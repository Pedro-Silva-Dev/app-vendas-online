(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{Yj9t:function(r,a,e){"use strict";e.r(a),e.d(a,"AuthModule",(function(){return k}));var t=e("PCNd"),o=e("ofXK"),i=e("3Pt+"),n=e("9K/a"),s=e("Axq4"),c=e("fXoL"),b=e("lMFm"),l=e("qXBG"),m=e("5eHb"),d=e("tyNb"),u=e("4Kj8");function p(r,a){1&r&&(c.Pb(0,"small",22),c.rc(1,"Esse campo \xe9 obrigat\xf3rio"),c.Ob())}function h(r,a){1&r&&(c.Pb(0,"small",22),c.rc(1,"Email inv\xe1lido"),c.Kb(2,"br"),c.Ob())}function f(r,a){1&r&&(c.Pb(0,"small",22),c.rc(1,"Email j\xe1 possui cadastro"),c.Kb(2,"br"),c.Ob())}function g(r,a){1&r&&(c.Pb(0,"small",22),c.rc(1,"Esse campo \xe9 obrigat\xf3rio"),c.Ob())}function v(r,a){1&r&&(c.Pb(0,"small",22),c.rc(1,"A senha deve ser maior que 6 characters"),c.Kb(2,"br"),c.Ob())}function O(r,a){1&r&&(c.Pb(0,"small",22),c.rc(1,"As senhas devem ser iguais."),c.Kb(2,"br"),c.Ob())}function P(r,a){1&r&&(c.Pb(0,"small",22),c.rc(1,"Esse campo \xe9 obrigat\xf3rio"),c.Ob())}function C(r,a){1&r&&(c.Pb(0,"small",22),c.rc(1,"A senha deve ser maior que 6 characters"),c.Kb(2,"br"),c.Ob())}function x(r,a){1&r&&(c.Pb(0,"small",22),c.rc(1,"As senhas devem ser iguais."),c.Kb(2,"br"),c.Ob())}function S(r,a){1&r&&(c.Pb(0,"small",22),c.rc(1,"Esse campo \xe9 obrigat\xf3rio"),c.Ob())}function y(r,a){1&r&&(c.Pb(0,"span"),c.rc(1,"Cadastrar"),c.Ob())}function F(r,a){1&r&&c.Kb(0,"app-spinner")}const _=function(r,a){return{"is-invalid":r,"is-valid":a,"form-control":!0}},E=function(){return["/"]};let I=(()=>{class r{constructor(r,a,e,t,o){this._formBuilder=r,this._validatorService=a,this._authService=e,this._toastrService=t,this._router=o}ngOnInit(){this.criarCadastrarForm()}criarCadastrarForm(){this.cadastrarForm=this._formBuilder.group({id:[null],nome:["",[i.n.required,n.a]],email:["",[i.n.required,i.n.email],[this._validatorService.checarEmail()]],senha:["",[i.n.required,i.n.minLength(6),n.a]],reSenha:["",[i.n.required,i.n.minLength(6),n.a]]},{validator:n.b})}cadastrar(){if(!this.cadastrarForm.invalid){this.processoDeCadastrar=!0;let r=new s.a(this.cadastrarForm.value);this._authService.cadastrarUsuario(r).subscribe(r=>{201==r.status?(this._authService.salvarUser(r.body),this._toastrService.success("Bem vindo a plataforma!"),this._router.navigate(["/dashboard"])):this._toastrService.warning("Ocorreu um erro no processo de cadastro, por favor tente novamente."),this.processoDeCadastrar=!1},r=>{this.processoDeCadastrar=!1,this._toastrService.error("Ocorreu um erro ao tentar cadastrar o usu\xe1rio, por favor contate o suporte.")})}}validarCampo(r){return!this.cadastrarForm.get(r).valid&&this.cadastrarForm.get(r).touched}campoCorreto(r){return this.cadastrarForm.get(r).valid&&this.cadastrarForm.get(r).touched}validarCampoSenha(){return!(this.cadastrarForm.hasError("senha")&&this.cadastrarForm.get("reSenha").touched&&this.cadastrarForm.get("senha").touched)}}return r.\u0275fac=function(a){return new(a||r)(c.Jb(i.b),c.Jb(b.a),c.Jb(l.a),c.Jb(m.b),c.Jb(d.a))},r.\u0275cmp=c.Db({type:r,selectors:[["app-cadastrar"]],decls:41,vars:32,consts:[[1,"container-fluid"],[1,"row"],[1,"col-lg-12","d-flex","justify-content-center","align-items-center","cadastrar-height"],[1,"ui-card"],[1,"ui-card","p-4"],[1,"h3","mb-4"],[3,"formGroup","submit"],[1,"form-group"],["for","nome",1,"sr-only"],["formControlName","nome","type","text","id","nome","placeholder","Nome",3,"ngClass"],["class","text-danger",4,"ngIf"],["for","email",1,"sr-only"],["formControlName","email","type","text","id","email","placeholder","Email",3,"ngClass"],["for","senha",1,"sr-only"],["formControlName","senha","type","password","autocomplete","false","id","senha","placeholder","Senha",3,"ngClass"],["for","reSenha",1,"sr-only"],["formControlName","reSenha","type","password","autocomplete","false","id","reSenha","placeholder","Repetir senha",3,"ngClass"],[1,"form-group","d-flex","justify-content-between"],[1,"d-flex","align-items-center",3,"routerLink"],["type","submit",1,"btn","btn-primary",3,"disabled"],[4,"ngIf","ngIfElse"],["spinner",""],[1,"text-danger"]],template:function(r,a){if(1&r&&(c.Pb(0,"div",0),c.Pb(1,"div",1),c.Pb(2,"div",2),c.Pb(3,"div",3),c.Pb(4,"div",4),c.Pb(5,"h3",5),c.rc(6,"Cadastrar Novo Usu\xe1rio"),c.Ob(),c.Pb(7,"form",6),c.Wb("submit",(function(){return a.cadastrar()})),c.Pb(8,"div",7),c.Pb(9,"label",8),c.rc(10,"Nome"),c.Ob(),c.Kb(11,"input",9),c.pc(12,p,2,0,"small",10),c.Ob(),c.Pb(13,"div",7),c.Pb(14,"label",11),c.rc(15,"Email"),c.Ob(),c.Kb(16,"input",12),c.pc(17,h,3,0,"small",10),c.pc(18,f,3,0,"small",10),c.pc(19,g,2,0,"small",10),c.Ob(),c.Pb(20,"div",7),c.Pb(21,"label",13),c.rc(22,"Senha"),c.Ob(),c.Kb(23,"input",14),c.pc(24,v,3,0,"small",10),c.pc(25,O,3,0,"small",10),c.pc(26,P,2,0,"small",10),c.Ob(),c.Pb(27,"div",7),c.Pb(28,"label",15),c.rc(29,"Repetir Senha"),c.Ob(),c.Kb(30,"input",16),c.pc(31,C,3,0,"small",10),c.pc(32,x,3,0,"small",10),c.pc(33,S,2,0,"small",10),c.Ob(),c.Pb(34,"div",17),c.Pb(35,"a",18),c.rc(36,"Voltar"),c.Ob(),c.Pb(37,"button",19),c.pc(38,y,2,0,"span",20),c.Ob(),c.Ob(),c.Ob(),c.Ob(),c.Ob(),c.Ob(),c.Ob(),c.Ob(),c.pc(39,F,1,0,"ng-template",null,21,c.qc)),2&r){const r=c.hc(40);c.xb(7),c.bc("formGroup",a.cadastrarForm),c.xb(4),c.bc("ngClass",c.ec(19,_,a.validarCampo("nome"),a.campoCorreto("nome"))),c.xb(1),c.bc("ngIf",a.validarCampo("nome")),c.xb(4),c.bc("ngClass",c.ec(22,_,a.validarCampo("email"),a.campoCorreto("email"))),c.xb(1),c.bc("ngIf",a.cadastrarForm.get("email").hasError("email")),c.xb(1),c.bc("ngIf",a.cadastrarForm.get("email").hasError("emailCadastrado")),c.xb(1),c.bc("ngIf",a.validarCampo("email")),c.xb(4),c.bc("ngClass",c.ec(25,_,a.validarCampo("senha")||!a.validarCampoSenha(),a.campoCorreto("senha")&&!a.cadastrarForm.hasError("senha"))),c.xb(1),c.bc("ngIf",a.cadastrarForm.get("senha").hasError("minlenght")),c.xb(1),c.bc("ngIf",!a.validarCampoSenha()),c.xb(1),c.bc("ngIf",a.validarCampo("senha")),c.xb(4),c.bc("ngClass",c.ec(28,_,a.validarCampo("reSenha")||!a.validarCampoSenha(),a.campoCorreto("reSenha")&&!a.cadastrarForm.hasError("senha"))),c.xb(1),c.bc("ngIf",a.cadastrarForm.get("reSenha").hasError("minlenght")),c.xb(1),c.bc("ngIf",!a.validarCampoSenha()),c.xb(1),c.bc("ngIf",a.validarCampo("reSenha")),c.xb(2),c.bc("routerLink",c.cc(31,E)),c.xb(2),c.bc("disabled",a.cadastrarForm.invalid||a.cadastrarForm.pending),c.xb(1),c.bc("ngIf",!a.processoDeCadastrar)("ngIfElse",r)}},directives:[i.p,i.i,i.d,i.a,i.h,i.c,o.h,o.j,d.b,u.a],styles:[".cadastrar-height[_ngcontent-%COMP%]{height:50rem!important}.bg-cadastrar[_ngcontent-%COMP%]{background-color:#007fff}"]}),r})();function w(r,a){1&r&&(c.Pb(0,"small",22),c.rc(1,"Email inv\xe1lido"),c.Kb(2,"br"),c.Ob())}function K(r,a){1&r&&(c.Pb(0,"small",22),c.rc(1,"Esse campo \xe9 obrigat\xf3rio"),c.Ob())}function L(r,a){1&r&&(c.Pb(0,"small",22),c.rc(1,"Esse campo \xe9 obrigat\xf3rio"),c.Ob())}function j(r,a){1&r&&(c.Pb(0,"span"),c.rc(1,"Entrar"),c.Ob())}function q(r,a){1&r&&c.Kb(0,"app-spinner")}const J=function(){return["/cadastrar"]},N=[{path:"",component:(()=>{class r{constructor(r,a,e,t){this._formBuilder=r,this._authService=a,this._toastrService=e,this._router=t}ngOnInit(){this.criarLoginForm()}criarLoginForm(){this.loginForm=this._formBuilder.group({email:["",[i.n.required,i.n.email]],senha:["",[i.n.required]]})}efetuarLogin(){this.loginForm.valid&&(this.processoDeLogin=!0,this._authService.efetuarLogin(this.loginForm.value).subscribe(r=>{if(200==r.status){let a=r.body.find(r=>r.email==this.loginForm.value.email);a?(this._authService.salvarUser(a),this._router.navigate(["/dashboard"])):this._toastrService.warning("Email ou senha inv\xe1lidos.")}this.processoDeLogin=!1},r=>{this._toastrService.error("Ocorreu um erro ao tentar entrar no sistema, por favor contate o suporte."),this.processoDeLogin=!1}))}validarCampo(r){return this.loginForm.get(r).invalid&&this.loginForm.get(r).touched}}return r.\u0275fac=function(a){return new(a||r)(c.Jb(i.b),c.Jb(l.a),c.Jb(m.b),c.Jb(d.a))},r.\u0275cmp=c.Db({type:r,selectors:[["app-auth"]],decls:36,vars:15,consts:[[1,"container-fluid"],[1,"row"],[1,"col-lg-12","d-flex","justify-content-center","align-items-center","login-height"],[1,"ui-card"],[1,"ui-card","p-4"],[1,"h3","mb-4","d-flex","justify-content-center"],[3,"formGroup","submit"],[1,"form-group"],["for","email",1,"sr-only"],[1,"input-group"],[1,"input-group-prepend"],[1,"input-group-text"],[1,"material-icons-outlined"],["formControlName","email","type","text","id","email","placeholder","Email"],["class","text-danger",4,"ngIf"],["for","senha",1,"sr-only"],["formControlName","senha","type","password","id","senha","placeholder","Senha"],[1,"form-group","d-flex","justify-content-between"],[1,"d-flex","align-items-center",3,"routerLink"],["type","submit",1,"btn","btn-outline-primary",3,"disabled"],[4,"ngIf","ngIfElse"],["spinner",""],[1,"text-danger"]],template:function(r,a){if(1&r&&(c.Pb(0,"div",0),c.Pb(1,"div",1),c.Pb(2,"div",2),c.Pb(3,"div",3),c.Pb(4,"div",4),c.Pb(5,"h3",5),c.rc(6,"Sana Variedades"),c.Ob(),c.Pb(7,"form",6),c.Wb("submit",(function(){return a.efetuarLogin()})),c.Pb(8,"div",7),c.Pb(9,"label",8),c.rc(10,"email"),c.Ob(),c.Pb(11,"div",9),c.Pb(12,"div",10),c.Pb(13,"div",11),c.Pb(14,"span",12),c.rc(15,"email"),c.Ob(),c.Ob(),c.Ob(),c.Kb(16,"input",13),c.Ob(),c.pc(17,w,3,0,"small",14),c.pc(18,K,2,0,"small",14),c.Ob(),c.Pb(19,"div",7),c.Pb(20,"label",15),c.rc(21,"senha"),c.Ob(),c.Pb(22,"div",9),c.Pb(23,"div",10),c.Pb(24,"div",11),c.Pb(25,"span",12),c.rc(26,"vpn_key"),c.Ob(),c.Ob(),c.Ob(),c.Kb(27,"input",16),c.Ob(),c.pc(28,L,2,0,"small",14),c.Ob(),c.Pb(29,"div",17),c.Pb(30,"a",18),c.rc(31,"Criar conta"),c.Ob(),c.Pb(32,"button",19),c.pc(33,j,2,0,"span",20),c.Ob(),c.Ob(),c.Ob(),c.Ob(),c.Ob(),c.Ob(),c.Ob(),c.Ob(),c.pc(34,q,1,0,"ng-template",null,21,c.qc)),2&r){const r=c.hc(35);c.xb(7),c.bc("formGroup",a.loginForm),c.xb(9),c.Ab("form-control ",a.validarCampo("email")?"is-invalid":"is-valid",""),c.xb(1),c.bc("ngIf",a.loginForm.get("email").hasError("email")),c.xb(1),c.bc("ngIf",a.validarCampo("email")),c.xb(9),c.Ab("form-control ",a.validarCampo("senha")?"is-invalid":"is-valid",""),c.xb(1),c.bc("ngIf",a.validarCampo("senha")),c.xb(2),c.bc("routerLink",c.cc(14,J)),c.xb(2),c.bc("disabled",a.loginForm.invalid),c.xb(1),c.bc("ngIf",!a.processoDeLogin)("ngIfElse",r)}},directives:[i.p,i.i,i.d,i.a,i.h,i.c,o.j,d.b,u.a],styles:[".login-height[_ngcontent-%COMP%]{height:50rem!important}.bg-login[_ngcontent-%COMP%]{background-color:#007fff}"]}),r})()},{path:"cadastrar",component:I}];let D=(()=>{class r{}return r.\u0275mod=c.Hb({type:r}),r.\u0275inj=c.Gb({factory:function(a){return new(a||r)},imports:[[d.c.forChild(N)],d.c]}),r})(),k=(()=>{class r{}return r.\u0275mod=c.Hb({type:r}),r.\u0275inj=c.Gb({factory:function(a){return new(a||r)},imports:[[o.b,D,i.l,t.a]]}),r})()}}]);